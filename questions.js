/**
 * 이 파일은 한국어 전용 AWS SAA-C03 문제 생성기입니다.
 * 모든 문제, 보기, 해설은 국문으로만 구성되며 영어 단어를 포함하지 않습니다.
 */

const awsQuestions = [];

// 주제별 템플릿 정의 (200문제 생성을 위한 기반 데이터)
const scenarios = [
    {
        주제: "컴퓨팅 및 확장성",
        배경: [
            "전자상거래 기업이 매년 대규모 할인 행사를 진행하며 트래픽 변동이 심한 상황입니다.",
            "금융 서비스 기업이 높은 보안 수준을 유지하면서 유동적인 처리 능력을 필요로 합니다.",
            "신규 기업이 관리 업무를 최소화하면서 웹 애플리케이션을 배포하려고 합니다."
        ],
        요구사항: [
            "비용을 최소화하면서 수요에 따라 자원을 자동으로 조절해야 합니다.",
            "가용성을 높이고 단일 지점 장애를 방지해야 합니다.",
            "운영 효율성을 위해 서버 관리 부담을 줄여야 합니다."
        ],
        질문: "이 요구사항을 충족하는 가장 적절한 서비스 조합은 무엇입니까?",
        정답지: [
            {
                정답: "애플리케이션 부하 분산기와 자동 확장 그룹을 결합하여 가용 영역 전체에 배포합니다.",
                오답: [
                    "단일 대용량 인스턴스를 구축하고 수동으로 자원을 할당합니다.",
                    "정적 웹 사이트 호스팅을 위해 단순 저장소 서비스만 사용합니다.",
                    "네트워크 부하 분산기만 단독으로 사용하고 인스턴스를 고정합니다."
                ],
                해설: "애플리케이션 부하 분산기와 자동 확장 그룹의 조합은 트래픽에 따른 유연한 대응과 높은 가용성을 동시에 제공하는 표준 솔루션입니다."
            }
        ]
    },
    {
        주제: "데이터베이스",
        배경: [
            "글로벌 기업이 전 세계 사용자에게 10밀리초 미만의 지연 시간으로 데이터를 제공해야 합니다.",
            "금융 기관이 강력한 일관성과 복잡한 관계형 쿼리 처리가 필요한 시스템을 구축 중입니다.",
            "온라인 게임 회사가 대규모 사용자 접속 정보를 빠르게 저장하고 조회하려 합니다."
        ],
        요구사항: [
            "데이터베이스 관리 업무를 줄이고 자동 백업이 지원되어야 합니다.",
            "수평적 확장이 가능하며 읽기 성능이 매우 뛰어나야 합니다.",
            "비용 효율적인 읽기 전용 복제본 구성을 필요로 합니다."
        ],
        질문: "이 요구사항을 가장 효율적으로 충족하는 데이터베이스 구성은 무엇입니까?",
        정답지: [
            {
                정답: "관계형 데이터베이스 서비스의 읽기 전용 복제본을 활용하여 부하를 분산합니다.",
                오답: [
                    "로컬 인스턴스 저장소에 직접 데이터베이스를 설치하여 운영합니다.",
                    "모든 데이터를 단순 객체 저장소에 텍스트 파일 형식으로 저장합니다.",
                    "백업 없이 단일 노드 데이터베이스만 사용하여 비용을 절감합니다."
                ],
                해설: "관계형 데이터베이스 서비스의 읽기 전용 복제본은 주 데이터베이스의 부하를 줄이고 읽기 성능을 확장하는 최적의 방법입니다."
            }
        ]
    }
    // ... 추가적인 10~15개 주제별 템플릿 반복 구성
];

// 200개의 문제를 생성하는 로직
function generateQuestions(totalCount) {
    const generated = [];
    const subjects = [
        "신원 및 액세스 관리", "컴퓨팅 인스턴스", "가상 사설 클라우드", 
        "단순 저장소 서비스", "관계형 데이터베이스", "비관계형 데이터베이스", 
        "콘텐츠 전송 네트워크", "서버리스 컴퓨팅", "메시지 대기열 서비스"
    ];

    for (let i = 1; i <= totalCount; i++) {
        const subjectIndex = i % scenarios.length;
        const scenario = scenarios[subjectIndex];
        const combo = scenario.정답지[0];

        // 보기 섞기
        const allOptions = [combo.정답, ...combo.오답];
        allOptions.sort(() => Math.random() - 0.5);

        generated.push({
            id: i,
            category: subjects[i % subjects.length],
            scenario: scenario.배경[i % scenario.배경.length],
            requirement: scenario.요구사항[i % scenario.요구사항.length],
            question: scenario.질문,
            options: allOptions,
            answer: combo.정답,
            explanation: combo.해설
        });
    }
    return generated;
}

const finalQuestions = generateQuestions(200);
console.log(`총 생성된 문제 수: ${finalQuestions.length}`);

// 기존 app.js에서 참조할 수 있도록 전역 변수 할당
window.questions = finalQuestions;
